<?xml version="1.0" encoding="UTF-8"?>
<project name="name-of-project" default="full-build">
 <!-- By default, we assume all tools to be on the $PATH -->
 <property name="phpcs"   value="phpcs"/>

 <!-- Use this when the tools are located as PHARs in ${basedir}/build/tools
 <property name="phpcs"   value="${basedir}/build/tools/phpcs.phar"/> -->

 <!-- Use this when the tools are managed by Composer in ${basedir}/vendor/bin
 <property name="phpcs"   value="${basedir}/vendor/bin/phpcs"/>-->

 <target name="phpcs"
         unless="phpcs.done"
         description="Find coding standard violations using PHP_CodeSniffer and print human readable output. Intended for usage on the command line before committing.">
  <exec executable="${phpcs}" taskname="phpcs">
   <arg value="--standard=Drupal" />
   <arg value="--extensions=php,module,inc,install,test,profile,theme,js,css,info,txt" />
   <arg value="--ignore=autoload.php" />
   <arg path="${basedir}/src" />
   <arg path="${basedir}/tests" />
  </exec>

  <property name="phpcs.done" value="true"/>
 </target>
</project>
